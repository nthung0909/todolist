(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{32:function(e,t,a){e.exports=a(60)},54:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(30),c=a.n(s),o=a(7),r=a(8),i=a(10),u=a(9),m=a(17),d=a(2),h=a(3),p=a(12),E=a.n(p),g=(a(54),"http://localhost:8000/api/account/"),v=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={accounts:[],editRow:-1,username:"",password:"",name:"",email:""},n.onDeleteClick=n.onDeleteClick.bind(Object(h.a)(n)),n.onClickEdit=n.onClickEdit.bind(Object(h.a)(n)),n.onChangeUsername=n.onChangeUsername.bind(Object(h.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(h.a)(n)),n.onChangeName=n.onChangeName.bind(Object(h.a)(n)),n.onChangeEmail=n.onChangeEmail.bind(Object(h.a)(n)),n.onSubmitEdit=n.onSubmitEdit.bind(Object(h.a)(n)),n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.a.post(g).then((function(t){e.setState({accounts:t.data.account_list})})).catch((function(e){return console.log(e)}))}},{key:"componentWillUnmount",value:function(){}},{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"onChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onClickEdit",value:function(e,t){this.setState({editRow:t,name:e.name,username:e.username,password:e.password,id:e.ID,email:e.email})}},{key:"onSubmitEdit",value:function(){var e=this;E.a.post("".concat(g,"update"),{name:this.state.name,username:this.state.username,password:this.state.password,email:this.state.email,type:2,ID:this.state.id}).then((function(t){e.setState({accounts:t.data.account_list,editRow:-1})})).catch((function(e){console.log(e)}))}},{key:"onDeleteClick",value:function(e){var t=this;console.log(e),E.a.post("".concat(g,"/delete?id=").concat(e)).then((function(e){console.log(e.status),t.setState({accounts:e.data.account_list})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"ui grid column container-fluid"},l.a.createElement("div",{className:"row"}),l.a.createElement("div",{className:"two wide column"}),l.a.createElement("div",{className:"twelve wide column"},l.a.createElement("div",{className:"row"},l.a.createElement("h1",{style:{textAlign:"center"}},"ACCOUNT LIST"),l.a.createElement("a",{href:"/signup"},l.a.createElement("button",{className:"ui green basic button",style:{float:"right"}},"Add account \xa0 ",l.a.createElement("i",{className:"plus icon"})))),l.a.createElement("table",{className:"ui celled table green"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"ID"),l.a.createElement("th",null,"Username"),l.a.createElement("th",null,"Password"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"Type"),l.a.createElement("th",null,"Action"))),l.a.createElement("tbody",null,this.state.accounts.map((function(t,a){return a!==e.state.editRow?l.a.createElement("tr",{key:a},l.a.createElement("td",null,t.ID),l.a.createElement("td",null,t.username),l.a.createElement("td",null,t.password),l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.email),l.a.createElement("td",null,1===t.type?"admin":"normal user"),l.a.createElement("td",null,l.a.createElement("a",{onClick:function(){e.onDeleteClick(t.ID)},style:{color:"red"}},l.a.createElement("i",{className:"x icon"}))," \xa0\xa0",l.a.createElement("i",{style:{color:"green"},onClick:function(){e.onClickEdit(t,a)},className:"pencil icon"}))):l.a.createElement("tr",{key:t},l.a.createElement("td",null,t.ID),l.a.createElement("td",null,l.a.createElement("input",{className:"edit_input",type:"text",name:"username",value:e.state.username,onChange:e.onChangeUsername})),l.a.createElement("td",null,l.a.createElement("input",{className:"edit_input",type:"text",name:"password",value:e.state.password,onChange:e.onChangePassword})),l.a.createElement("td",null,l.a.createElement("input",{className:"edit_input",type:"text",name:"name",value:e.state.name,onChange:e.onChangeName})),l.a.createElement("td",null,l.a.createElement("input",{className:"edit_input",type:"text",name:"email",value:e.state.email,onChange:e.onChangeEmail})),l.a.createElement("td",null,1===t.type?"admin":"normal user"),l.a.createElement("td",null,l.a.createElement("i",{style:{color:"green"},onClick:function(){e.onSubmitEdit()},className:"checkmark icon"})))}))))))}}]),a}(l.a.Component),b=a(12),f=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={accounts:[],username:"",password:""},n.onChangeUsername=n.onChangeUsername.bind(Object(h.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(h.a)(n)),n.onLogin=n.onLogin.bind(Object(h.a)(n)),n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.post("".concat("http://localhost:8000/api/","account")).then((function(t){e.setState({accounts:t.data.account_list}),console.log(e.state.accounts)})).catch((function(e){return console.log(e)}))}},{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"onLogin",value:function(e){var t=this;this.state.accounts.find((function(e){return e.username===t.state.username&&e.password===t.state.password}))?(this.props.history.push("/account"),e.preventDefault()):(e.preventDefault(),alert("Username or password is invalid!!!"))}},{key:"render",value:function(){return l.a.createElement("div",{className:"ui grid three column container-fluid"},l.a.createElement("div",{className:"row"}),l.a.createElement("div",{className:"row"}),l.a.createElement("div",{className:"row"}),l.a.createElement("div",{className:"row"}),l.a.createElement("div",{className:"column"}),l.a.createElement("div",{className:"column",style:{backgroundColor:"#CCE2FF",margin:"4px"}},l.a.createElement("div",{className:"row"},l.a.createElement("h1",{style:{textAlign:"center"}},"Sign in")),l.a.createElement("br",null),l.a.createElement("form",{id:"loginform",className:"ui large form",onSubmit:this.onLogin},l.a.createElement("div",{className:"field"},l.a.createElement("label",null,"Username: "),l.a.createElement("input",{required:!0,type:"text",name:"username",value:this.state.username,onChange:this.onChangeUsername})),l.a.createElement("br",null),l.a.createElement("div",{className:"field"},l.a.createElement("label",null,"Username: "),l.a.createElement("input",{required:!0,type:"password",name:"password",value:this.state.password,onChange:this.onChangePassword})),l.a.createElement("br",null),l.a.createElement("button",{className:"ui primary button",type:"submit"},"Login"),"\xa0\xa0\xa0\xa0\xa0Don't have account? ",l.a.createElement("a",{href:"/signup"},"Register"))),l.a.createElement("div",{className:"column"}))}}]),a}(l.a.Component),C=a(12),w=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={isSuccess:!1,accounts:[],name:"",username:"",password:"",email:"",type:2},n.onSignup=n.onSignup.bind(Object(h.a)(n)),n.onFullnameChange=n.onFullnameChange.bind(Object(h.a)(n)),n.onUsernameChange=n.onUsernameChange.bind(Object(h.a)(n)),n.onPasswordChange=n.onPasswordChange.bind(Object(h.a)(n)),n.onEmailChange=n.onEmailChange.bind(Object(h.a)(n)),n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;C.post("http://localhost:8000/api/account/").then((function(t){e.setState({accounts:t.data.account_list}),console.log(e.state.accounts)})).catch((function(e){return console.log(e)}))}},{key:"onSignup",value:function(e){var t=this;return this.state.accounts.find((function(e){return e.username===t.state.username}))?(alert("Account exitst!!!"),e.preventDefault()):(C.post("".concat("http://localhost:8000/api/account/","add"),{name:this.state.name,username:this.state.username,password:this.state.password,email:this.state.email,type:2}).then((function(e){t.setState({accounts:e.data.acount_list})})).catch((function(e){console.log(e)})),this.props.history.push("/account"),e.preventDefault())}},{key:"onFullnameChange",value:function(e){this.setState({name:e.target.value})}},{key:"onUsernameChange",value:function(e){this.setState({username:e.target.value})}},{key:"onPasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"onEmailChange",value:function(e){this.setState({email:e.target.value})}},{key:"render",value:function(){return l.a.createElement("div",{className:"ui grid three column container-fluid"},l.a.createElement("div",{className:"row"}),l.a.createElement("div",{className:"row"}),l.a.createElement("div",{className:"row"}),l.a.createElement("div",{className:"column"}),l.a.createElement("div",{className:"column",style:{backgroundColor:"#CCE2FF",margin:"4px"}},l.a.createElement("div",{className:"row"},l.a.createElement("h1",{style:{textAlign:"center"}},"Sign up")),l.a.createElement("br",null),l.a.createElement("form",{id:"signinForm",className:"ui large form",onSubmit:this.onSignup},l.a.createElement("div",{className:"field"},l.a.createElement("label",null,"Fullname: "),l.a.createElement("input",{required:!0,type:"text",name:"name",value:this.state.name,onChange:this.onFullnameChange})),l.a.createElement("div",{className:"field"},l.a.createElement("label",null,"Username: "),l.a.createElement("input",{required:!0,type:"text",name:"username",value:this.state.username,onChange:this.onUsernameChange})),l.a.createElement("br",null),l.a.createElement("div",{className:"field"},l.a.createElement("label",null,"Password: "),l.a.createElement("input",{required:!0,type:"password",name:"password",value:this.state.password,onChange:this.onPasswordChange})),l.a.createElement("div",{className:"field"},l.a.createElement("label",null,"Email: "),l.a.createElement("input",{required:!0,type:"email",name:"email",value:this.state.email,onChange:this.onEmailChange})),l.a.createElement("br",null),l.a.createElement("button",{className:"ui primary button",type:"submit"},"Sign up"),"\xa0\xa0\xa0\xa0\xa0\xa0have an account? ",l.a.createElement("a",{href:"/signin"},"Sign in"))),l.a.createElement("div",{className:"column"}))}}]),a}(l.a.Component),y=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={username:"",password:"",loadLoginPage:!1},"/"===n.props.location.pathname&&n.props.history.push("/signin"),n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return l.a.createElement(m.a,null,l.a.createElement(d.a,{path:"/signup",component:w}),l.a.createElement(d.a,{exact:!0,path:"/signin",component:f}),l.a.createElement(d.a,{path:"/account",component:v}))}}]),a}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(m.a,null,l.a.createElement(d.a,{path:"/",component:y})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.32370e72.chunk.js.map